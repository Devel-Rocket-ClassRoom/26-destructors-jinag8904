# 코딩 연습 - 소멸자

교안의 예제 코드를 직접 작성하고 실행하는 프로젝트입니다.

> **참고**: 과제 사이에 변수 이름이 겹칠 수 있습니다. 이전 과제의 코드를 지우거나 주석 처리한 후 다음 과제를 작성하세요.

---

## 과제 1: GC 강제 실행

`GC.Collect()`를 사용하여 소멸자가 호출되는 것을 확인하는 코드를 작성하세요.

- `TestObject` 클래스에 `int` 타입 `_id` 필드를 정의
- 생성자에서 id를 받아 저장하고 "객체 {id} 생성" 출력
- 소멸자에서 "객체 {id} 소멸" 출력
- 두 개의 개체를 생성하고, 참조를 `null`로 해제한 후 
- `GC.Collect()`와 `GC.WaitForPendingFinalizers()` 호출

**실행 결과**

```
객체 1 생성
객체 2 생성
GC 실행 전
객체 2 소멸
객체 1 소멸
GC 실행 후
```

---

## 과제 2: 생성자, 메서드, 소멸자 실행 순서

객체의 생명주기를 확인하는 코드를 작성하세요.

- `Character` 클래스에 `string` 타입 `_name` 필드를 정의
- 생성자에서 이름을 받아 "[1] {이름} 생성" 출력
- `Attack()` 메서드에서 "[2] {이름} 공격" 출력
- 소멸자에서 "[3] {이름} 소멸" 출력
- 개체를 생성하고, `Attack()` 호출 후, 참조 해제 및 GC 실행

**실행 결과**

```
프로그램 시작
[1] 용사 생성
[2] 용사 공격
GC 실행
[3] 용사 소멸
프로그램 종료
```

---

## 과제 3: 여러 객체의 생명주기

여러 개의 객체를 생성하고 소멸시키는 코드를 작성하세요.

- `Car` 클래스에 `string` 타입 `_color` 필드를 정의
- 생성자에서 색상을 받아 "{색상}색 자동차 조립" 출력
- `Drive()` 메서드에서 "{색상}색 자동차가 달림" 출력
- 소멸자에서 "{색상}색 자동차 폐차" 출력
- 3대의 자동차를 생성/주행 후, 모두 참조 해제하고 GC 실행

**실행 결과**

```
검정색 자동차 조립
검정색 자동차가 달림
하얀색 자동차 조립
하얀색 자동차가 달림
파랑색 자동차 조립
파랑색 자동차가 달림
=== GC 실행 ===
파랑색 자동차 폐차
하얀색 자동차 폐차
검정색 자동차 폐차
=== 정리 완료 ===
```

---

## 과제 4: 게임 세션 관리

게임 세션의 시작과 종료를 추적하는 코드를 작성하세요.

- `GameSession` 클래스에 `_playerName`(string)과 `_startTime`(DateTime) 필드를 정의
- 생성자에서 플레이어 이름을 받고, 시작 시간을 `DateTime.Now`로 기록하며, 시작 메시지 출력
- `Play()` 메서드에서 플레이 중 메시지 출력
- 소멸자에서 종료 시간을 기록하고, 플레이 시간을 계산하여 출력
- 세션을 생성하고 플레이 후, 참조 해제 및 GC 실행

**실행 결과**

```
[17:30:15] 플레이어1 게임 시작
플레이어1 플레이 중...
[17:30:15] 플레이어1 게임 종료
플레이 시간: 0.0초
```

---

## 과제 5: 리소스 사용 카운터

생성된 객체 수를 정적 필드로 추적하는 코드를 작성하세요.

- `Monster` 클래스에 정적 필드 `s_totalCount`, `s_aliveCount`와 인스턴스 필드 `_id`, `_name`을 정의
- 생성자에서 카운터를 증가시키고 생성 메시지와 현재 생존 수를 출력
- 소멸자에서 `s_aliveCount`를 감소시키고 소멸 메시지와 현재 생존 수를 출력
- `ShowStats()` 정적 메서드로 총 생성/현재 생존 수를 출력
- 3마리 몬스터를 생성하고 상태를 출력한 후, 모두 참조 해제하고 GC 실행, 최종 상태 출력

**실행 결과**

```
몬스터 생성: 슬라임 (ID: 1)
  - 현재 생존: 1마리
몬스터 생성: 고블린 (ID: 2)
  - 현재 생존: 2마리
몬스터 생성: 오크 (ID: 3)
  - 현재 생존: 3마리

총 생성: 3, 현재 생존: 3

몬스터 소멸: 오크 (ID: 3)
  - 현재 생존: 2마리
몬스터 소멸: 고블린 (ID: 2)
  - 현재 생존: 1마리
몬스터 소멸: 슬라임 (ID: 1)
  - 현재 생존: 0마리

총 생성: 3, 현재 생존: 0
```

---

## 과제 6: 게임 아이템 관리 시스템

생성자와 소멸자를 활용한 아이템 관리 시스템을 작성하세요.

- `GameItem` 클래스에 정적 필드 `s_nextId`와 인스턴스 필드 `_id`, `_name`, `_price`를 정의
- 생성자에서 ID를 자동 부여하고 "[생성] 아이템 #{id}: {이름} ({가격}골드)" 출력
- `Use()` 메서드에서 "[사용] {이름} 아이템을 사용함" 출력
- 소멸자에서 "[삭제] 아이템 #{id}: {이름} 인벤토리에서 제거됨" 출력
- 3개의 아이템을 생성하고, 일부를 사용한 후, 모두 참조 해제하고 GC 실행

**실행 결과**

```
=== 아이템 생성 ===
[생성] 아이템 #1: 체력 포션 (50골드)
[생성] 아이템 #2: 강철 검 (200골드)
[생성] 아이템 #3: 나무 방패 (100골드)

=== 아이템 사용 ===
[사용] 체력 포션 아이템을 사용함
[사용] 강철 검 아이템을 사용함

=== 인벤토리 정리 ===
[삭제] 아이템 #3: 나무 방패 인벤토리에서 제거됨
[삭제] 아이템 #2: 강철 검 인벤토리에서 제거됨
[삭제] 아이템 #1: 체력 포션 인벤토리에서 제거됨
=== 정리 완료 ===
```
